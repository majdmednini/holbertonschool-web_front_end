<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script
    src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs="
    crossorigin="anonymous">
    </script>
    <title>Task 6</title>
  </head>
  <body>
	<script type="application/javascript">
		$( document ).ready(function() {
			function createFamilyTree() {
				$("body").append("<table></table>");
				$("table").append("<thead></thead>", "<tbody></tbody>");
				const row = $("<tr></tr>").append($("<th></th>").text("Firstname"), $("<th></th>").text("Lastname"));
				$("thead").append(row);
			}
			createFamilyTree();
			function addNewMember(firstName, lastName, position) {
				const row = $("<tr></tr>");
				const x = $("<td>(x)</td>");
				x.css("background-color", "orange");
				x.click(function () {
					$(row).remove();
				});
				row.append(`<td>${firstName}</td>`, `<td>${lastName}</td>`, x);
				$("tbody").append(row);
				if (position === "before")
					$("tbody").prepend(row);
				else
					$("tbody").append(row);
			}
			function createForm() {
				const form = "<input><input><select><option value='before' selected>Before</option><option value='after'>After</option></select><input type='submit'>";
				$("table").before(form);
				$("input:nth-of-type(3)" ).click(function() {
					addNewMember($("input").first().val(),  $("input:nth-of-type(2)").val(), $("select").val())
				});
			}
			createForm();
		});
	</script>
    </body>

</html>